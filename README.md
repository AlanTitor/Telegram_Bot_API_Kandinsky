Документация к проекту
Файл: ClassImgGenerate.py
Описание:
Этот модуль содержит класс Text2ImageAPI, предоставляющий интерфейс для взаимодействия с API генерации изображений FusionBrain AI.
Класс: Text2ImageAPI
Описание:
Класс, реализующий взаимодействие с API преобразования текста в изображение FusionBrain AI.
Атрибуты:
URL (str): Базовый URL API.
AUTH_HEADERS (dict): Словарь с заголовками аутентификации.
Методы:
__init__(self, url, api_key, secret_key): Конструктор класса. Инициализирует новый экземпляр Text2ImageAPI.
url (str): Базовый URL API.
api_key (str): Ключ API для аутентификации.
secret_key (str): Секретный ключ для аутентификации.
get_model(self): Возвращает ID доступной модели генерации изображений.
Возвращает:
str: ID модели генерации изображений.
generate(self, prompt, model, style, images=1, width=1024, height=1024): Генерирует изображение по заданному запросу и параметрам.
prompt (str): Текстовый запрос для генерации изображения.
model (str): ID модели генерации изображений, которую нужно использовать.
style (str): Стиль генерируемого изображения.
images (int, optional): Количество генерируемых изображений. По умолчанию 1.
width (int, optional): Ширина генерируемого изображения. По умолчанию 1024.
height (int, optional): Высота генерируемого изображения. По умолчанию 1024.
Возвращает:
str: UUID запроса на генерацию изображения.
check_generation(self, request_id, attempts=10, delay=10): Проверяет статус запроса на генерацию изображения.
request_id (str): UUID запроса на генерацию изображения.
attempts (int, optional): Количество попыток проверки статуса. По умолчанию 10.
delay (int, optional): Задержка между проверками статуса в секундах. По умолчанию 10.
Возвращает:
list: Список сгенерированных изображений в кодировке base64 или None, если запрос еще не выполнен.
Файл: Global_Variables.py
Описание:
Модуль содержит глобальные переменные, используемые в приложении.
Файл: main.py
Описание:
Основной модуль приложения, отвечающий за взаимодействие с Telegram ботом и генерацию изображений.
Функции:
generate_image_bot(prompt, style="No style"): Генерирует изображение по заданному запросу и стилю.
prompt (str): Текстовый запрос для генерации изображения.
style (str, optional): Стиль генерируемого изображения. По умолчанию "No style".
Возвращает:
bytes: Сгенерированное изображение в формате bytes.
get_message(message): Обработчик команды /gen. Генерирует изображение по запросу пользователя в Telegram.
message: Объект сообщения Telegram.
get_style(message): Обработчик команды /sty. Выводит список доступных стилей для генерации изображений.
message: Объект сообщения Telegram.
Запуск приложения:
Для запуска приложения необходимо выполнить файл main.py.
Примечания:
Для работы приложения необходимо установить библиотеки telebot, requests и datetime.
Перед запуском приложения необходимо указать в файле Global_Variables.py актуальные значения переменных URL, BOT_TOKEN, API_KEY и SECRET_KEY.
